/*
---
description: With mBox.Modal you can easily set up modal dialog windows.

authors: Stephan Wagner

license: MIT-style

requires:
 - mBox
 - core/1.4.5: '*'
 - more/Element.Measure

provides: [mBox.Modal]

documentation: http://htmltweaks.com/mBox/Documentation/Modal
...
*/
mBox.Modal=new Class({Extends:mBox,options:{event:"click",target:$(window),position:{x:["center","inside"],y:["center","inside"]},fixed:true,draggable:true,overlay:true,overlayStyles:{color:"white",opacity:.001},closeInTitle:true,buttons:null},initialize:function(e){this.defaultInOut="inside";this.defaultTheme="Modal";if(e.buttons){e.onSystemBoxReady=function(){this.addButtons(e.buttons)}}this.parent(e)},addButtons:function(e){if(typeof e!="object")return false;this.setFooter("");this.buttonContainer=(new Element("div",{"class":"mBoxButtonContainer"})).inject(this.footerContainer,"top");e.each(function(t,n){(new Element("button",{id:t.id||"",html:"<label>"+(t.value||t.title)+"</label>","class":"mBoxButton "+(t.addClass||"")+" "+(n==0?"mBoxButtonFirst":n==e.length-1?"mBoxButtonLast":""),styles:t.setStyles||{},events:{mouseup:(t.event||this.close).bind(this)}})).inject(this.buttonContainer)}.bind(this));(new Element("div",{styles:{clear:"both"}})).inject(this.footerContainer,"bottom");return this}})